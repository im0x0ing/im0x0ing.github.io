<!DOCTYPE html>
<html lang="en" dir="ltr"><head><title>01 introduction</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto Sans SC:wght@400;700&amp;family=Noto Serif SC:ital,wght@0,400;0,500;0,700;0,900;1,400;1,500;1,700;1,900&amp;family=JetBrains Mono:wght@400;600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="ING wiki"/><meta property="og:title" content="01 introduction"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="01 introduction"/><meta name="twitter:description" content="DECK: CS::OS 操作系统概述 定义与设计目标 操作系统： 职能：资源管理系统 存在：本质上是软件程序 最基础最中央的部分是内核kernel 设计目标： 可靠性和安全性 异常处理机制：中断 权限管理系统：特权 易用性 方便用户使用系统资源：系统调用 高效性 任务执行设计：批处理系统-》分时系统 公平性 进程管理的冲突与饥饿starvation 可拓展性、易维护性 设计与实现 从目标/需求开始：user goals &amp; system goals 机制和策略相分离 flashcard 机制/规则被存在酒店的中心服务器上（database） 和策略分离开了,比如配置文件就相当于pol..."/><meta property="og:description" content="DECK: CS::OS 操作系统概述 定义与设计目标 操作系统： 职能：资源管理系统 存在：本质上是软件程序 最基础最中央的部分是内核kernel 设计目标： 可靠性和安全性 异常处理机制：中断 权限管理系统：特权 易用性 方便用户使用系统资源：系统调用 高效性 任务执行设计：批处理系统-》分时系统 公平性 进程管理的冲突与饥饿starvation 可拓展性、易维护性 设计与实现 从目标/需求开始：user goals &amp; system goals 机制和策略相分离 flashcard 机制/规则被存在酒店的中心服务器上（database） 和策略分离开了,比如配置文件就相当于pol..."/><meta property="og:image:alt" content="DECK: CS::OS 操作系统概述 定义与设计目标 操作系统： 职能：资源管理系统 存在：本质上是软件程序 最基础最中央的部分是内核kernel 设计目标： 可靠性和安全性 异常处理机制：中断 权限管理系统：特权 易用性 方便用户使用系统资源：系统调用 高效性 任务执行设计：批处理系统-》分时系统 公平性 进程管理的冲突与饥饿starvation 可拓展性、易维护性 设计与实现 从目标/需求开始：user goals &amp; system goals 机制和策略相分离 flashcard 机制/规则被存在酒店的中心服务器上（database） 和策略分离开了,比如配置文件就相当于pol..."/><meta property="twitter:domain" content="im0x0ing.github.io"/><meta property="og:url" content="https://im0x0ing.github.io/课程笔记/操作系统/01-introduction"/><meta property="twitter:url" content="https://im0x0ing.github.io/课程笔记/操作系统/01-introduction"/><link rel="icon" href="../../static/icon.png"/><meta name="description" content="DECK: CS::OS 操作系统概述 定义与设计目标 操作系统： 职能：资源管理系统 存在：本质上是软件程序 最基础最中央的部分是内核kernel 设计目标： 可靠性和安全性 异常处理机制：中断 权限管理系统：特权 易用性 方便用户使用系统资源：系统调用 高效性 任务执行设计：批处理系统-》分时系统 公平性 进程管理的冲突与饥饿starvation 可拓展性、易维护性 设计与实现 从目标/需求开始：user goals &amp; system goals 机制和策略相分离 flashcard 机制/规则被存在酒店的中心服务器上（database） 和策略分离开了,比如配置文件就相当于pol..."/><meta name="generator" content="Quartz"/><link href="../../index.css" rel="stylesheet" type="text/css" data-persist="true"/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  padding: 2rem;
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvaW0weDBpbmctYmxvZy1wcml2YXRlL2ltMHgwaW5nLWJsb2ctcHJpdmF0ZS9xdWFydHovY29tcG9uZW50cy9zdHlsZXMiLCJzb3VyY2VzIjpbIm1lcm1haWQuaW5saW5lLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7O0FBR0Y7RUFDRTtFQUNBOztBQUdGO0VBQ0U7OztBQUtGO0VBQ0U7RUFDQTs7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTs7QUFHRjtFQUNFO0VBQ0E7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFOztBQUdGO0VBQ0U7O0FBSUY7RUFDRTtFQUNBO0VBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhwYW5kLWJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOiAwLjRyZW07XG4gIG1hcmdpbjogMC4zcmVtO1xuICByaWdodDogMDsgLy8gTk9URTogcmlnaHQgd2lsbCBiZSBzZXQgaW4gbWVybWFpZC5pbmxpbmUudHNcbiAgY29sb3I6IHZhcigtLWdyYXkpO1xuICBib3JkZXItY29sb3I6IHZhcigtLWRhcmspO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IDAuMnM7XG5cbiAgJiA+IHN2ZyB7XG4gICAgZmlsbDogdmFyKC0tbGlnaHQpO1xuICAgIGZpbHRlcjogY29udHJhc3QoMC4zKTtcbiAgfVxuXG4gICY6aG92ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNlY29uZGFyeSk7XG4gIH1cblxuICAmOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAwO1xuICB9XG59XG5cbnByZSB7XG4gICY6aG92ZXIgPiAuZXhwYW5kLWJ1dHRvbiB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2l0aW9uOiAwLjJzO1xuICB9XG59XG5cbiNtZXJtYWlkLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgY29udGFpbjogbGF5b3V0O1xuICB6LWluZGV4OiA5OTk7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiBub25lO1xuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuXG4gICYuYWN0aXZlIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cblxuICAmID4gI21lcm1haWQtc3BhY2Uge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIGhlaWdodDogODB2aDtcbiAgICB3aWR0aDogODB2dztcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgJiA+IC5tZXJtYWlkLWNvbnRlbnQge1xuICAgICAgcGFkZGluZzogMnJlbTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzIGVhc2U7XG4gICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgICAgbWluLXdpZHRoOiAyMDBweDtcblxuICAgICAgcHJlIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIHN2ZyB7XG4gICAgICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgfVxuICAgIH1cblxuICAgICYgPiAubWVybWFpZC1jb250cm9scyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBib3R0b206IDIwcHg7XG4gICAgICByaWdodDogMjBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDhweDtcbiAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0KTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgei1pbmRleDogMjtcblxuICAgICAgLm1lcm1haWQtY29udHJvbC1idXR0b24ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tZGFyayk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1ib2R5Rm9udCk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG5cbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgICY6YWN0aXZlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0eWxlIHRoZSByZXNldCBidXR0b24gZGlmZmVyZW50bHlcbiAgICAgICAgJjpudGgtY2hpbGQoMikge1xuICAgICAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgICAgIHBhZGRpbmc6IDAgMTJweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */</style><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" data-persist="true"/><script src="../../prescript.js" type="application/javascript" data-persist="true"></script><script type="application/javascript" data-persist="true">const fetchData = fetch("../../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://im0x0ing.github.io/index.xml"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content="https://im0x0ing.github.io/课程笔记/操作系统/01-introduction-og-image.webp"/><meta property="og:image:url" content="https://im0x0ing.github.io/课程笔记/操作系统/01-introduction-og-image.webp"/><meta name="twitter:image" content="https://im0x0ing.github.io/课程笔记/操作系统/01-introduction-og-image.webp"/><meta property="og:image:type" content="image/.webp"/></head><body data-slug="课程笔记/操作系统/01-introduction"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../..">ING wiki</a></h2><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg><p>Search</p></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="Reader mode"><title>Reader mode</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>node.slug===\&quot;\&quot;||node.slug.startsWith(\&quot;\\u8BFE\\u7A0B\\u7B14\\u8BB0\&quot;)&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-111"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-111" class="explorer-content" aria-expanded="false" role="group"><ul class="explorer-ul overflow" id="list-3"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><header><nav class="my-navbar "><div class="links"><a href="/课程笔记/">课程笔记</a><a href="/技术积累/">技术积累</a><a href="/工具使用/">工具使用</a><a href="/生活杂谈/">生活杂谈</a></div></nav></header><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../课程笔记/">课程笔记</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../课程笔记/操作系统/">操作系统</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>01 introduction</a></div></nav><h1 class="article-title">01 introduction</h1><p show-comma="true" class="content-meta"><time datetime="2025-11-30T00:00:00.000Z">Nov 30, 2025</time><span>23 min read</span></p><ul class="tags"><li><a href="../../tags/flashcard" class="internal tag-link">flashcard</a></li></ul></div></div><article class="popover-hint"><p>DECK: CS::OS</p>
<h2 id="操作系统概述">操作系统概述<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#操作系统概述" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h4 id="定义与设计目标">定义与设计目标<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#定义与设计目标" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>操作系统：</p>
<ul>
<li>职能：资源管理系统</li>
<li>存在：本质上是软件程序
<ul>
<li>最基础最中央的部分是内核kernel</li>
</ul>
</li>
</ul>
<p>设计目标：</p>
<ul>
<li>可靠性和安全性
<ul>
<li>异常处理机制：中断</li>
<li>权限管理系统：特权</li>
</ul>
</li>
<li>易用性
<ul>
<li>方便用户使用系统资源：系统调用</li>
</ul>
</li>
<li>高效性
<ul>
<li>任务执行设计：批处理系统-》分时系统</li>
</ul>
</li>
<li>公平性
<ul>
<li>进程管理的冲突与饥饿starvation</li>
</ul>
</li>
<li>可拓展性、易维护性</li>
</ul>
<h4 id="设计与实现">设计与实现<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#设计与实现" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>从目标/需求开始：user goals &amp; system goals</p>
<h5 id="机制和策略相分离-flashcard"><strong>机制和策略相分离</strong> <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#机制和策略相分离-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250925145645.png" width="auto" height="auto" alt/><br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250925145856.png" width="auto" height="auto" alt/><br/>
机制/规则被存在酒店的中心服务器上（database） 和策略分离开了,比如配置文件就相当于policy</p>

<blockquote class="callout example" data-callout="example">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>例题 </p></div>
                  
                </div>
<div class="callout-content">
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250928162638.png" width="auto" height="auto" alt/></p>
</div>
</blockquote>
<h4 id="操作系统提供的三种能力">操作系统提供的三种能力<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#操作系统提供的三种能力" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<h5 id="复用-multiplexing">复用 multiplexing<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#复用-multiplexing" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>cpu复用 多个程序共享 时间分配复用</li>
<li>内存复用 多个进程  空间分配复用</li>
</ul>
<h5 id="隔离--isolation">隔离  isolation<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#隔离--isolation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>程序之间不能访问对方的数据</li>
<li>数据范围权限的隔离</li>
<li>用户 kernal</li>
</ul>
<h5 id="抽象-abstraction">抽象 abstraction<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#抽象-abstraction" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>进程间通讯 interaction</p>
<h2 id="操作系统的整体设计">操作系统的整体设计<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#操作系统的整体设计" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="计算机系统架构">计算机系统架构<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#计算机系统架构" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250928133909.png" width="auto" height="auto" alt/><br/>
根据处理器的数量和组织形式，存在三种计算机系统架构</p>
<ul>
<li>单处理器
<ul>
<li>有且仅有一个单核通用处理器general-purpose processor</li>
<li>可以有若干专用处理器用来处理特定指令，并不运行线程</li>
</ul>
</li>
<li>多处理器系统
<ul>
<li>有多个单核通用处理器的系统，处理器共享同一块主内存，通过总线或者交换网络连接</li>
<li>增加了处理西数量能够增加吞吐量throughput，也就是单位时间内处理的任务数量，但是增加并不线性（处理器之间通信需要时间和额外开销）</li>
</ul>
</li>
<li>集群系统
<ul>
<li>通过冗余实现高可用服务，通过并行实现高性能计算，由多个独立的计算机系统作为节点，通过高速通信网络相互连接形成</li>
<li>分为对称和不对称两种，对称集群中各个节点互相监督，不对称集群中存在“替补”监督工作中的节点，或者接替有问题节点的工作。</li>
</ul>
</li>
</ul>
<h3 id="操作系统的任务执行设计">操作系统的任务执行设计<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#操作系统的任务执行设计" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h5 id="1-单道批处理系统--flashcard">1. <strong>（单道）批处理系统</strong>  <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#1-单道批处理系统--flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>batch processing system</p>
<ul>
<li>批处理：若干任务被作为一整批交付给操作系统，操作系统会自动按照顺序串行serial执行任务</li>
<li>单道：一段时间内内存中只有一道程序在运行（进程process ），结束后再切换到下一个任务<br/>
问题：当存在I/O操作任务时，由于耗时，CPU长时间处于空闲状态</li>
</ul>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>I/O </p></div>
                  
                </div>
<div class="callout-content">
<p>即CPU和RAM（主内存）与“外部世界”之间进行数据交换的过程</p>
<ul>
<li>存储设备（磁盘IO）</li>
<li>网络设备（网络IO）</li>
<li>人机交互设备</li>
<li>其他外部设备</li>
</ul>
<p>特点：速度慢。</p>
</div>
</blockquote>

<h5 id="2-多道批处理系统-flashcard">2. <strong>多道批处理系统</strong> <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#2-多道批处理系统-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>multiprogramming batch processing system</p>
<ul>
<li>一段时间内，四个进程 （job=process）都加载到内存中，并发运行（在A完成之前B可能也开始了）。<span class="text-highlight">当当前 job 发生 I/O 时，操作系统负责让 CPU 转而运行另一个 job。</span></li>
<li>但微观来看，多道批处理仍然是顺序串行的。<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250923164618.png" width="auto" height="auto" alt/></li>
<li>不关心运行的先后顺序（任意），只要同时加载进去就叫做multiprogramming。调度的部分是由jobschedule完成（批处理</li>
<li>原因：内存大，cpu强，有能力同时处理4个进程，因此就可以提升硬件的使用效果</li>
<li>needed for硬件计算资源<code>CPU utlization</code></li>
<li>交互性差，在完成任务前用户无法操作</li>
</ul>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>并发与并行 </p></div>
                  
                </div>
</blockquote>
<p>并发**(concurrency)**是指两个或多个事件在同一时间间隔内发生，而并行是指两个或多个事件在同一时刻发生。逻辑上，并行是并发的子集。</p>

<h5 id="3-分时系统-flashcard">3. <strong>分时系统</strong> <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#3-分时系统-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>timesharing systems/multitasking</p>
<ul>
<li>multiprogramming的逻辑拓展：保留其内存中有多个进程的并发特点</li>
<li>处理器会在jobs上面轮流地赋予cpu资源，在进程间不断切换（很短的时间内），让用户察觉不到进程的切换/cpu的共享，达到近似于并行的效果。</li>
<li>注重的是用户的交互性<code>interactivity</code>，允许多个用户同时使用同一台计算机，所有任务之间互相独立，互不干扰、互不阻塞，因此任务的最长周转时间减少，用户的操作也会被及时响应，实现了更方便进行人机对话。</li>
<li>对硬件配置有较高要求（每个用户的terminal）和调度算法</li>
</ul>

<h3 id="操作系统的结构设计">操作系统的结构设计<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#操作系统的结构设计" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h5 id="宏巨内核monolithic-kernels-flashcard"><strong>宏/巨内核(monolithic-kernels)</strong> <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#宏巨内核monolithic-kernels-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>也叫单内核或大内核</p>
<ul>
<li>将所有主要功能紧密耦合，操作系统效率高</li>
<li>维护十分困难；某个部分出现困难，整个系统都会受影响。<br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250928141636.png" width="auto" height="auto" alt/></li>
</ul>

<h5 id="分层设计layer-approach">分层设计(layer approach)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#分层设计layer-approach" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>将系统分为若干层，底层为硬件，顶层为用户接口，第 i 层只调用i−1 层提供的接口。每一层都实现良好的封装，于是开发过程中只需要逐步实现并调试验证每一层，再逐级向上开发即可；在维护或扩展过程中，只要修改每一层的内部实现，而不需要修改其它层的代码，这样就大大降低了开发和维护的难度。 </li>
<li>由于每次执行一个功能都需要上下跨越多层，发生多次接口调用，分层设计下的系统效率往往都受到限制；不仅如此，要想真正意义上实现良好的分层设计，就需要对各层有良好的定义，这个设计难度是不小的。</li>
</ul>
<h5 id="微内核micro-kernels-flashcard"><strong>微内核(micro-kernels)</strong> <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#微内核micro-kernels-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>将不是必要的东西都从内核拿出去，放到用户空间以用户态执行。只有<span class="text-highlight">通讯、内存管理、进程管理</span>等基本功能直接运行在内核态。其他功能部件通过<span class="text-highlight">消息传递机制</span>和内核互动。</li>
<li>维护扩展变得容易，自身效率得到提升，可靠性也提高了。但是很多模块移到usermode不安全<br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250928141744.png" width="auto" height="auto" alt/></li>
</ul>

<h5 id="模块化设计modules-approach">模块化设计(modules approach)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#模块化设计modules-approach" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>模块-接口法。理想的设计可以让系统多线并行，只要商量好接口就能独立实现，维护和扩展容易。但是设计开发很困难。</p>
<h5 id="混合系统hybrid-systems">混合系统(hybrid systems)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#混合系统hybrid-systems" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>宏内核和微内核的思路结合起来，是目前主流的操作系统模式</p>
<h2 id="操作系统的运行原理">操作系统的运行原理<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#操作系统的运行原理" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="中断interrupts"><strong>中断interrupts</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#中断interrupts" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>中断（广义）是贯穿现代操作系统的一个重要技术，它使得“计划之外”的事情可以及时的被告知并处理（让产生意外的人自行上报这些意外） <span class="text-highlight">现代操作系统都是中断驱动的</span></p>
<h6 id="interrupt-request-line-flashcard">interrupt-request line <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#interrupt-request-line-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<ul>
<li>CPU 有称为 <strong>interrupt-request line</strong> 的线路。CPU会在每一条指令结束后检测是否有中断发生，并会读取 interrupt number 并且以此作为 interrupt vector 中的 index 来跳转到对应的 interrupt-handler routine。</li>
</ul>

<h6 id="中断向量表-interrupt-vector-table-flashcard">中断向量表 interrupt vector table <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#中断向量表-interrupt-vector-table-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h6>
<p>中断向量表是快速定位中断处理方法的手段。通过中断号来索引中断处理方法，实现了一种“随机访问”，大大加速了中断处理的速度。</p>

<h5 id="分类">分类<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#分类" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<ul>
<li>硬件引起的中断（外中断）</li>
<li>软件引起的中断（内中断）trap
<ul>
<li>error 非主动的</li>
<li>system call 程序主动的 调用操作系统的功能</li>
</ul>
</li>
</ul>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>riscv的对应术语区别 </p></div>
                  
                </div>
<div class="callout-content">
<ul>
<li>中断traps
<ul>
<li>硬件中断 interrupts</li>
<li>软件中断
<ul>
<li>error<span>→</span>exceptions</li>
<li>系统调用<span>→</span>ecalls（环境调用）</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</blockquote>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>cause a page fault </p></div>
                  
                </div>
<div class="callout-content">
<p>缺页 访问memory地址的时候由于对应的地址内容非法而产生的<span class="text-highlight">中断</span></p>
</div>
</blockquote>

<h5 id="过程">过程<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#过程" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250918150944.png" width="auto" height="auto" alt/></p>
<ul>
<li>device driver I/O与操作系统之间的驱动</li>
<li>左边：CPU</li>
<li>右边：I/O controller<br/>
I/Ocontroller发起中断之后，CPU对其进行处理，调用interrupt handler，处理好之后return到被中断的下一条指令重新开始运行 的这么一个循环过程<br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250918151352.png" width="auto" height="auto" alt/><br/>
波动表示状态的改变</li>
</ul>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>中断状态的保存 </p></div>
                  
                </div>
<div class="callout-content">
<p>为了保证中断处理完成后仍能继续当前任务，操作系统需要保存当前任务的状态，以便完成中断处理后恢复当前任务的状态。</p>
</div>
</blockquote>
<h5 id="中断冲突-flashcard">中断冲突 <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#中断冲突-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p>中断处理也同样需要资源，这意味着中断也有可能产生冲突</p>
<ul>
<li>优先处理优先级高的中断：中断分级
<ul>
<li>虽然低级的中断可以被高级的中断打断，但是保存和恢复现场状态的过程是不应当被打断的。</li>
</ul>
</li>
<li>原子性行为不可被中断，重要任务不应该被中断：中断屏蔽</li>
</ul>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>中断请求线 </p></div>
                  
                </div>
<div class="callout-content">
<ol>
<li><code>maskable interrupt-request line</code> 可屏蔽的中断 它可以在执行不可中断的关键程序之前被 CPU 关闭，等到关键程序结束后再解除屏蔽处理其中的中断。<br/>
 2. n<code>on-maskable interrupt-request line</code> 不可屏蔽的中断 为一些不可恢复的内存错误等事件保留</li>
</ol>
</div>
</blockquote>

<h3 id="计时器-timer-flashcard">计时器 timer <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#计时器-timer-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>计时器需要一个固定频率的时钟以及一个计数器，在每个时钟周期令计数器减 1，当计数器归零时产生中断，告诉操作系统定的时已经到了</li>
<li>功能虽然基础但是十分重要，例如分时系统中就需要计数器来控制时间片的长度，又比如操作系统需要定期检查内存中的进程，以防止进程一直占用系统资源</li>
</ul>

<h3 id="特权模式privileged-mode">特权模式privileged mode<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#特权模式privileged-mode" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>允许用户程序执行常规操作，危险操作由专业人士执行。<br/>
工业上特权模式有许多复杂的实现形式，比如</p>
<h4 id="双模式dual-mode-flashcard">双模式(dual-mode） <a href="../.././../tags/flashcard" class="tag-link internal alias" data-slug="tags/flashcard">flashcard</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#双模式dual-mode-flashcard" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<ul>
<li>用户态  user mode</li>
<li>内核态  kernal mode</li>
<li>Mode bit 为 0，表示 CPU 工作在内核态；mode bit 为 1 时，CPU 工作在用户态。modebit由特权指令进行管理。</li>
</ul>

<h4 id="特权指令privileged-instruction">特权指令(privileged instruction)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#特权指令privileged-instruction" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>例如 I/O 控制，计时器管理，中断管理等。这些指令只能在内核态下执行，而用户态下执行这些指令时会认为这条指令不存在。</p>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>是不是在kernalmode下运行的所有指令都是特权指令？ </p></div>
                  
                </div>
<div class="callout-content">
<p>不是，非特权指令也可以运行在kernalmode下，但是特权指令只能在kernalmode下运行</p>
</div>
</blockquote>
<h4 id="双模式之间的交互">双模式之间的交互<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#双模式之间的交互" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>用户委托进行危险操作的过程：比如writing data to a disk drive ，用户程序想要使用kernal提供的服务，需要调用系统调用（system call）切换到kernelmode。</p>
<ul>
<li>具体实现上即发生软中断（trap）的时候<br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250918153741.png" width="auto" height="auto" alt/><br/>
细节：将usermode本身执行的上下文保存下来以便于恢复等</li>
<li>系统调用可能需要传递参数。参数可以放在寄存器里直接传递；也可以放在一块内存中，用寄存器传递地址；也可以用栈传递。</li>
</ul>
<blockquote class="callout tip" data-callout="tip">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>能否让中断运行在usermode？ </p></div>
                  
                </div>
<div class="callout-content">
<p>不行，等同于kernel的权限和usermode是一样的，破坏了隔离性（多个user program都对设备进行io）</p>
</div>
</blockquote>
<h3 id="系统调用">系统调用<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#系统调用" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>系统向用户程序提供服务的一个接口，它们经常以 C/C++ 函数的形式存在，对于某些比较接近底层的任务，也可能是通过汇编编写的。</li>
<li>但说到底，系统调用还是相对底层的设计，通常的开发并不基于如此底层的设计展开。更常见的是利用各种抽象层级更高的 <strong>Application Programming Interface, API</strong> 进行开发。</li>
<li>API 是一个非常常见的概念，在我看来系统调用本身也是一种极为底层的 API。API 的核心思想是让调用者只需要知道如何与被调用者交流以实现目的，而不需要关心其具体实现。这同时也暗示着，只要 API 一致，同样的程序在不同的平台上也能直接编译后运行。</li>
<li>显然，API 与编程语言往往是强相关的，特定编程语言在操作系统上运行也是需要一定的“环境”的，也就是我们所说的<strong>运行时环境(run-time environment, RTE)</strong>。RTE 通常包括了编译器(compilers)、解释器(interpreters)、库(libraries)和装载器(loaders)等，它们共同组成了一个完整的运行时环境。</li>
</ul>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>库函数与系统调用 </p></div>
                  
                </div>
<div class="callout-content">
<p>库函数运行在用户空间而系统调用运行在内核空间。大部分库函数可能使用系统调用来实现目的。</p>
</div>
</blockquote>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250923174107.png" width="auto" height="auto" alt/><br/>
systemcall是函数 通过interface被调用 但是调用的过程比函数调用更复杂（根据systemcontrol的index下标去查询systemcall的表得到systemcall具体的内容）</p>
<h5 id="系统调用的分类">系统调用的分类<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#系统调用的分类" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h5>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250925144728.png" width="auto" height="auto" alt/></p>
<h3 id="链接器和装载器">链接器和装载器<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#链接器和装载器" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>操作系统到底是如何执行一个程序的呢？以 C 为例，一个写完的代码需要经过编译、链接、装载三个步骤，才能成为一个<strong>在内存中</strong>的，可以被执行的程序。</p>
<ul>
<li>
<p>编译器首先将若干 <code>.c</code> 源文件编译为若干 <code>.o</code> 文件（这里合并了预处理、编译、汇编步骤），这些 <code>.o</code> 文件被称为可重定位目标文件(relocatable object file)，其存在形式为机器码</p>
</li>
<li>
<p>随后链接器将若干 <code>.o</code> 文件连带所需要的一些库文件（如 <code>.a</code> 文件）链接为一个可执行目标文件(executable object file)。</p>
</li>
<li>
<p>静态链接将库文件的代码直接合并进入最终的可执行文件</p>
</li>
<li>
<p>动态链接仅仅将库文件的引用信息写入最终的可执行文件，而在程序运行时再去寻找这些库文件<br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250928151025.png" width="auto" height="auto" alt/></p>
</li>
</ul>
<h3 id="引导">引导<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#引导" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>在计算机刚刚启动，操作系统还未开始运行之前，需要开机后的第一个程序——引导加载器(bootstrap loader)来一步一步地初始化操作系统。对大多数操作系统来说，bootstrap 都会被存储在 ROM 中，并且需要在一个已知的位置</li>
<li>Bootstrap loader 会载入更加复杂的，完整的 bootstrap，而包含 bootstrap 程序的分区就被称为引导分区(bootstrap partition)。</li>
</ul>
<h3 id="同步异步io">同步/异步IO<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#同步异步io" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250918151438.png" width="auto" height="auto" alt/></p>
<ul>
<li><code>同步(synchronous)</code>
<ul>
<li>用户等待io操作的完成（控制权移交给操作系统直到io操作结束</li>
</ul>
</li>
<li><code>异步（Asynchronous)</code>
<ul>
<li>io操作启动以后用户发起io的请求后，控制权迅速返回调用程序，然后io操作再自己去进行（并记录好这个操作的有关信息比如是由哪个进程发起的 需要把得到的数据交给谁之类（device-status table<br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250918151449.png" width="auto" height="auto" alt/><br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250918152023.png" width="auto" height="auto" alt/></li>
</ul>
</li>
</ul>
<h2 id="三个management">三个management<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#三个management" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="process-management">process management<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#process-management" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250918154230.png" width="auto" height="auto" alt/><br/>
操作系统分配给进程一定的资源。进程在运行中需要始终拥有这些资源才能够运行完毕。</p>
<ul>
<li>program 静态概念</li>
<li>process   运行中的动态实体（抽象概念
<ul>
<li>一个程序可以有多个运行中的进程</li>
<li>不同进程所占用的资源不同，因此可以说进程是一个资源分配的单位</li>
<li>进程又可以有对应的子进程（树状继承关系</li>
</ul>
</li>
</ul>
<p>进程当前指向的地址 pc寄存器<br/>
一个程序可能有多个执行的顺序 叫做thread线程</p>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>是否时在整个运行过程中，都要占有所有该进程需要的资源？ </p></div>
                  
                </div>
<div class="callout-content">
<p>进程运行的各个生命周期，需要的资源不同。在需要的时候再进行占用，不需要的时候进行释放，提高了灵活性和资源利用率。</p>
</div>
</blockquote>
<p>进程里面可以包含多个执行的序列：线程thread<br/>
线程：执行的最小单位<br/>
进程：分配资源的单位</p>
<ul>
<li>进程的创建
<ul>
<li>进程的继承关系</li>
</ul>
</li>
<li>交互的能力（给另一个进程发消息 signal</li>
<li>进程的状态</li>
<li>删除进程</li>
<li>多个进程之间共享内存（访问冲突</li>
</ul>
<h3 id="memory-management">memory management<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#memory-management" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250923171007.png" width="auto" height="auto" alt/><br/>
让进程能（按照权限/规定）了解到自己目前所拥有的内存（静态分配or动态分配）的结构，的视图。</p>
<h3 id="storage-management">storage management<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#storage-management" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>在存储的介质上面（硬盘/SSD）<br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250923171328.png" width="auto" height="auto" alt/><br/>
提供一个抽象的访问接口：文件<code>file</code><br/>
文件的层结构：目录<br/>
文件访问的权限</p>
<p>文件是单个数据实体<br/>
文件系统是一整套文件以及管理目录的整体</p>
<p>磁盘上面分成若干块的partition 并赋予文件系统（一个盘符就代表一个单独的文件系统）</p>
<h4 id="mass-storage-management">mass-storage management<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#mass-storage-management" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>海量存储管理，也就是磁盘管理<br/>
相较于面向用户的storage管理 更多的是面向硬件的管理</p>
<h3 id="io-subsystem">I/O subsystem<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#io-subsystem" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><img src="../../课程笔记/操作系统/attachments/Pasted-image-20250923171716.png" width="auto" height="auto" alt/></p>
<blockquote class="callout note" data-callout="note">
<div class="callout-title">
                  <div class="callout-icon"></div>
                  <div class="callout-title-inner"><p>system call能否实现成为library（函数调用 </p></div>
                  
                </div>
<div class="callout-content">
<p>存在安全性风险，比如软件调用特权指令等</p>
</div>
</blockquote>
<h2 id="虚拟机">虚拟机<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#虚拟机" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>本质其实是一种抽象<br/>
给上层提供和底层硬件一样的interface<br/>
<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250928164737.png" width="auto" height="auto" alt/></p>
<ul>
<li>hardware：host宿主机</li>
<li>virtual machine managerVMM/hypervisor：提供了具备操作系统特性的一个基本的管理软件，提供接口供虚拟机运行，结构相对来说简单
<ul>
<li>type1 裸金属的虚拟化baremtal hyperboza 比较好因为不需要完整的运行操作系统<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250928165145.png" width="auto" height="auto" alt/></li>
<li>type2 比如qemu 离不开地下原生os的运行<img src="../../课程笔记/操作系统/attachments/Pasted-image-20250928165152.png" width="auto" height="auto" alt/></li>
</ul>
</li>
<li>guests：进程，可以运行多个进程（一个进程就是一个自成一体的完整操作系统 ）</li>
</ul>
<p>对guestos不做修改：全虚拟化<br/>
对guestos做一点改动：半虚拟化，但是运行效率更高</p>
<p>sysgen ：device driver之类的配置<br/>
在操作系统power-on的过程中cpu执行的第一个软件（系统初始化自检硬件部分）：firmware固件<br/>
bootloader是加载操作系统用的（locate kernel image on disk 并且加载进ram，switching the cpu mode for kernel execution）</p></article><hr/><div class="page-footer"><div class="giscus" data-repo="im0x0ing/im0x0ing.github.io" data-repo-id="R_kgDOQevgrA" data-category="Announcements" data-category-id="DIC_kwDOQevgrM4CzLI8" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-input-position="top" data-light-theme="light" data-dark-theme="dark" data-theme-url="https://im0x0ing.github.io/static/giscus" data-lang="zh-CN"></div></div></div><div class="right sidebar"><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-48" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="toc-depth-control"><span class="depth-label">H3</span><input type="range" class="depth-slider" min="1" max="6" value="2" step="1"/></div><ul id="list-9" class="toc-content overflow"><li class="depth-0"><a href="#操作系统概述" data-for="操作系统概述">操作系统概述</a></li><li class="depth-2"><a href="#定义与设计目标" data-for="定义与设计目标">定义与设计目标</a></li><li class="depth-2"><a href="#设计与实现" data-for="设计与实现">设计与实现</a></li><li class="depth-3"><a href="#机制和策略相分离-flashcard" data-for="机制和策略相分离-flashcard">机制和策略相分离 flashcard</a></li><li class="depth-2"><a href="#操作系统提供的三种能力" data-for="操作系统提供的三种能力">操作系统提供的三种能力</a></li><li class="depth-3"><a href="#复用-multiplexing" data-for="复用-multiplexing">复用 multiplexing</a></li><li class="depth-3"><a href="#隔离--isolation" data-for="隔离--isolation">隔离  isolation</a></li><li class="depth-3"><a href="#抽象-abstraction" data-for="抽象-abstraction">抽象 abstraction</a></li><li class="depth-0"><a href="#操作系统的整体设计" data-for="操作系统的整体设计">操作系统的整体设计</a></li><li class="depth-1"><a href="#计算机系统架构" data-for="计算机系统架构">计算机系统架构</a></li><li class="depth-1"><a href="#操作系统的任务执行设计" data-for="操作系统的任务执行设计">操作系统的任务执行设计</a></li><li class="depth-3"><a href="#1-单道批处理系统--flashcard" data-for="1-单道批处理系统--flashcard">1. （单道）批处理系统  flashcard</a></li><li class="depth-3"><a href="#2-多道批处理系统-flashcard" data-for="2-多道批处理系统-flashcard">2. 多道批处理系统 flashcard</a></li><li class="depth-3"><a href="#3-分时系统-flashcard" data-for="3-分时系统-flashcard">3. 分时系统 flashcard</a></li><li class="depth-1"><a href="#操作系统的结构设计" data-for="操作系统的结构设计">操作系统的结构设计</a></li><li class="depth-3"><a href="#宏巨内核monolithic-kernels-flashcard" data-for="宏巨内核monolithic-kernels-flashcard">宏/巨内核(monolithic-kernels) flashcard</a></li><li class="depth-3"><a href="#分层设计layer-approach" data-for="分层设计layer-approach">分层设计(layer approach)</a></li><li class="depth-3"><a href="#微内核micro-kernels-flashcard" data-for="微内核micro-kernels-flashcard">微内核(micro-kernels) flashcard</a></li><li class="depth-3"><a href="#模块化设计modules-approach" data-for="模块化设计modules-approach">模块化设计(modules approach)</a></li><li class="depth-3"><a href="#混合系统hybrid-systems" data-for="混合系统hybrid-systems">混合系统(hybrid systems)</a></li><li class="depth-0"><a href="#操作系统的运行原理" data-for="操作系统的运行原理">操作系统的运行原理</a></li><li class="depth-1"><a href="#中断interrupts" data-for="中断interrupts">中断interrupts</a></li><li class="depth-4"><a href="#interrupt-request-line-flashcard" data-for="interrupt-request-line-flashcard">interrupt-request line flashcard</a></li><li class="depth-4"><a href="#中断向量表-interrupt-vector-table-flashcard" data-for="中断向量表-interrupt-vector-table-flashcard">中断向量表 interrupt vector table flashcard</a></li><li class="depth-3"><a href="#分类" data-for="分类">分类</a></li><li class="depth-3"><a href="#过程" data-for="过程">过程</a></li><li class="depth-3"><a href="#中断冲突-flashcard" data-for="中断冲突-flashcard">中断冲突 flashcard</a></li><li class="depth-1"><a href="#计时器-timer-flashcard" data-for="计时器-timer-flashcard">计时器 timer flashcard</a></li><li class="depth-1"><a href="#特权模式privileged-mode" data-for="特权模式privileged-mode">特权模式privileged mode</a></li><li class="depth-2"><a href="#双模式dual-mode-flashcard" data-for="双模式dual-mode-flashcard">双模式(dual-mode） flashcard</a></li><li class="depth-2"><a href="#特权指令privileged-instruction" data-for="特权指令privileged-instruction">特权指令(privileged instruction)</a></li><li class="depth-2"><a href="#双模式之间的交互" data-for="双模式之间的交互">双模式之间的交互</a></li><li class="depth-1"><a href="#系统调用" data-for="系统调用">系统调用</a></li><li class="depth-3"><a href="#系统调用的分类" data-for="系统调用的分类">系统调用的分类</a></li><li class="depth-1"><a href="#链接器和装载器" data-for="链接器和装载器">链接器和装载器</a></li><li class="depth-1"><a href="#引导" data-for="引导">引导</a></li><li class="depth-1"><a href="#同步异步io" data-for="同步异步io">同步/异步IO</a></li><li class="depth-0"><a href="#三个management" data-for="三个management">三个management</a></li><li class="depth-1"><a href="#process-management" data-for="process-management">process management</a></li><li class="depth-1"><a href="#memory-management" data-for="memory-management">memory management</a></li><li class="depth-1"><a href="#storage-management" data-for="storage-management">storage management</a></li><li class="depth-2"><a href="#mass-storage-management" data-for="mass-storage-management">mass-storage management</a></li><li class="depth-1"><a href="#io-subsystem" data-for="io-subsystem">I/O subsystem</a></li><li class="depth-0"><a href="#虚拟机" data-for="虚拟机">虚拟机</a></li><li class="overflow-end"></li></ul></div><div class="backlinks"><h3>Backlinks</h3><ul id="list-10" class="overflow"><li><a href="../../课程笔记/操作系统/流程总览/01-系统启动与进程创建" class="internal">01 系统启动与进程创建</a></li><li><a href="../../课程笔记/操作系统/流程总览/03-进程调度" class="internal">03 进程调度</a></li><li><a href="../../课程笔记/操作系统/流程总览/04-完整流程示例" class="internal">04 完整流程示例</a></li><li class="overflow-end"></li></ul></div><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.5.2</a> © 2025</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></div></body><script type="application/javascript" data-persist="true">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module" data-persist="true">function f(i,e){if(!i)return;function r(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function t(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}i?.addEventListener("click",r),window.addCleanup(()=>i?.removeEventListener("click",r)),document.addEventListener("keydown",t),window.addCleanup(()=>document.removeEventListener("keydown",t))}function y(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var h=class{constructor(e,r){this.container=e;this.content=r;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),r=this.onMouseMove.bind(this),t=this.onMouseUp.bind(this),o=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),window.addEventListener("resize",o),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",r),()=>document.removeEventListener("mouseup",t),()=>window.removeEventListener("resize",o))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let r=this.createButton("+",()=>this.zoom(.1)),t=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(t),e.appendChild(o),e.appendChild(r),this.container.appendChild(e)}createButton(e,r){let t=document.createElement("button");return t.textContent=e,t.className="mermaid-control-button",t.addEventListener("click",r),window.addCleanup(()=>t.removeEventListener("click",r)),t}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}zoom(e){let r=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),t=this.content.getBoundingClientRect(),o=t.width/2,n=t.height/2,c=r-this.scale;this.currentPan.x-=o*c,this.currentPan.y-=n*c,this.scale=r,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){this.scale=1;let e=this.content.querySelector("svg");this.currentPan={x:e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().height/2},this.updateTransform()}},C=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],E;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;E||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let r=E.default,t=new WeakMap;for(let n of e)t.set(n,n.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let a=t.get(s);a&&(s.innerHTML=a)}let n=C.reduce((s,a)=>(s[a]=window.getComputedStyle(document.documentElement).getPropertyValue(a),s),{}),c=document.documentElement.getAttribute("saved-theme")==="dark";r.initialize({startOnLoad:!1,securityLevel:"loose",theme:c?"dark":"base",themeVariables:{fontFamily:n["--codeFont"],primaryColor:n["--light"],primaryTextColor:n["--darkgray"],primaryBorderColor:n["--tertiary"],lineColor:n["--darkgray"],secondaryColor:n["--secondary"],tertiaryColor:n["--tertiary"],clusterBkg:n["--light"],edgeLabelBackground:n["--highlight"]}}),await r.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let n=0;n<e.length;n++){let v=function(){let g=l.querySelector("#mermaid-space"),m=l.querySelector(".mermaid-content");if(!m)return;y(m);let w=c.querySelector("svg").cloneNode(!0);m.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new h(g,m)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},c=e[n],s=c.parentElement,a=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(a),L=a.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),f(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript" data-persist="true"></script><script src="../../postscript.js" type="module" data-persist="true"></script></html>